<!DOCTYPE html>
<html lang="en" class="select-none">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link href="../src/assets/index_out.css" rel="stylesheet" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"
      type="text/javascript"
    ></script>
    <title>Graph Viewer</title>
  </head>

  <body class="w-full min-h-screen flex">
    <div
      id="task-bar"
      class="fixed top-[-50px] left-0 w-full h-[50px] bg-gray-800 text-white flex justify-around items-center transition-all duration-300 z-50"
    >
      <!-- Upload nodes from file -->
      <div>
        <input type="file" id="upload-nodes" class="hidden" />

        <button
          id="upload-nodes-button"
          class="px-4 py-2 bg-gray-700 hover:bg-gray-600"
        >
          Upload nodes
        </button>
      </div>

      <!-- Upload edges -->
      <div>
        <input type="file" id="upload-edges" class="hidden" />

        <button
          id="upload-edges-button"
          class="px-4 py-2 bg-gray-700 hover:bg-gray-600"
        >
          Upload edges

      </div>
      <button class="px-4 py-2 bg-gray-700 hover:bg-gray-600">*empty*</button>
      <button class="px-4 py-2 bg-gray-700 hover:bg-gray-600">Save</button>
    </div>
    <!-- First container (60% width) -->
    <div class="flex flex-col w-[50%] min-h-screen p-[1%] pr-[0.5%] gap-y-[2%]">
      <div
        class="flex bg-slate-600 h-[50%] max-h-[50%] resize-none rounded-2xl"
      >
        <div
          class="grid grid-cols-2 flex-row justify-center w-full h-[100%] p-[4%] gap-x-[4%] overflow-hidden"
        >
          <!-- Form for Graph input raw data -->
          <div
            class="flex flex-col w-full py-[3%] px-[5%] bg-gray-100 rounded-2xl mt-4"
          >
            <label
              for="graph-input-data"
              class="text-lg font-semibold mb-2 text-center"
            >
              Graph input data area</label
            >
            <textarea
              id="graph-input-data"
              name="graph-input-area"
              class="w-full h-full p-2 border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-400"
            >
1
2
3
4
5
                </textarea
            >
            <button
              type="button"
              class="mt-3 px-4 py-2 bg-green-500 text-blue-500 rounded hover:bg-green-400"
            >
              Update
            </button>
          </div>

          <!-- Form for Graph edges -->
          <div
            class="flex flex-col w-full py-[3%] px-[5%] bg-gray-100 rounded-2xl mt-4"
          >
            <label
              for="graph-edges-data"
              class="text-lg font-semibold mb-2 text-center"
            >
              Graph input data area
            </label>
            <textarea
              id="graph-edges-data"
              name="graph-edges-area"
              class="w-full h-full p-2 border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-400"
            >
1 2
2 3
1 3
4 2
4 5
                </textarea
            >
            <button
              type="button"
              id="button"
              class="mt-3 px-4 py-2 bg-green-500 text-blue-500 rounded hover:bg-green-400"
            >
              Update
            </button>
          </div>
        </div>
      </div>

      <!-- Second container -->
      <div
        class="flex-1 bg-slate-400 p-3 w-full h-[50%] max-h-[55%] rounded-2xl"
      >
        <h2 class="text-lg text-center font-bold mb-2">Option Section</h2>
        <div class="grid gap-4 grid-cols-2">
          <button
            id="bfs-button"
            class="px-4 py-2 bg-blue-500 text-white rounded-2xl hover:bg-blue-400"
          >
            BFS
          </button>
          <button
            id="dfs-button"
            class="px-4 py-2 bg-blue-500 text-white rounded-2xl hover:bg-blue-400"
          >
            DFS
          </button>
          <button 
            id="max-flow-button"
            class="px-4 py-2 bg-blue-500 text-white rounded-2xl hover:bg-blue-400"
          >
            Max flow
          </button>
          <button
            id="spaning-tree-button"
            class="px-4 py-2 bg-blue-500 text-white rounded-2xl hover:bg-blue-400"
          >
            Spaning Tree
          </button>

          <p id="max-flow-result"> </p>
        </div>
      </div>
    </div>

    <!-- Third container with graph view -->
    <div
      id="graph-view-area"
      class="flex w-[55%] max-h-screen pl-[0.5%] p-[1%] overflow-hidden"
    >
      <div
        id="network"
        class="flex-1 bg-slate-300 p-3 h-[100%] max-h-full overflow-auto rounded-2xl"
      ></div>
    </div>

    <!-- There are scripts -->
    <script src="./Reader.js"></script>
    <script src="./Parser.js"></script>
    <script src="./UIUpdater.js"></script>
    <script src="./Graph.js"></script>
    <script src="./GeneralGraph.js"></script>
    <script src="./GraphUIUpdater.js"></script>
    <script src="./GeneralGraphUpdater.js"></script>
    <script src="./Collector.js"></script>
    <script src="./preload.js"></script>

    <script>
      // Show task bar when mouse is near the top of the screen
      document.addEventListener("mousemove", function (event) {
        const taskBar = document.getElementById("task-bar");
        if (event.clientY < 50) {
          taskBar.style.top = "0"; // Show the bar
        } else {
          taskBar.style.top = "-50px"; // Hide the bar
        }
      });

      // Task selection logic
      function selectTask(taskNumber) {
        alert("Selected Task " + taskNumber);
      }
    </script>
  </body>
</html>
